<% layout('/layouts/admin') -%>

<div class="row" style="margin-bottom: 10px">
    <%- partial('partials/admin/_count_per_page', {current_limit: current_limit}) %>
    <%- partial('partials/admin/_order_by', {orders: ['provider', 'email', 'created_at']}) %>
</div>

<div class="row">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>Username</th>
                <th>email</th>
                <th>provider</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <% users.forEach(function(user){ %>
            <tr>
                <td><%= user.display_name %></td>
                <td><%= user.display_email %></td>
                <td><%= user.provider %></td>
                <td>
                    <a href="/admin/users/<%=user.id%>">Show</a> &nbsp;|&nbsp;
                    <a href="/admin/users/<%=user.id%>" data-method="delete">Delete</a>
                    <% if (user.provider === 'local') { %>
                    &nbsp;|&nbsp;
                    <a href="/admin/users/<%=user.id%>/edit">Edit</a>
                    <% } %>
                </td>
            </tr>
            <%})%>
        </tbody>
    </table>
</div>

<div class="row">
    <%- partial('partials/admin/_pagination', {baseUrl: "/admin/items", pages: pages, current_page: current_page}) %>
</div>